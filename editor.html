<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <link href="_server/css/editor.css" rel="stylesheet">
    <link href="_server/css/codicon.css" rel="stylesheet">
    <link href="_server/mt-ui/mt-ui.css" rel="stylesheet">
    <link href="_server/thirdparty/awesomplete.css" rel="stylesheet">
</head>
<body>
<script>
    if (!location.protocol.startsWith("http")) {
        alert("请在启动服务中打开本编辑器！不然包括编辑在内的绝大多数功能都无法使用。");
        window.isOnline = false;
    } else window.isOnline = true;
</script>
<div id="window">
    <header>
        <mt-tabs id="topnav" :tabs="mainPanels" init="mapPanel" @switch="switchMainPanel">
            <li><a href="https://h5mota.com/games/template/_docs/" target="_blank">帮助</a></li>
        </mt-tabs>
        <p id="title">{{ projectName }} - HTML5 魔塔编辑器</p>
    </header>
    <keep-alive>
        <components class="mainPanel" :is="mainPanelActive" ref="panelNow"></components>
    </keep-alive>
    <footer id="statusBar">
        <ul ref="left" id="statusLeft">
            <status-item left :class="messageType">{{ message }}</status-item>
        </ul>
        <ul ref="right" id="statusRight"></ul>
    </footer>
    <blockly-editor ref="blockly"></blockly-editor>
</div>

<!-- <script>/* -->

<!-- =========================================================== -->

<script src='_server/thirdparty/vue.js'></script>
<script src='_server/thirdparty/vuex.js'></script>

<script src='_server/fs.js'></script>
<script src='_server/editor_ui.js'type="module"></script>
<script src='_server/editor_util.js'type="module"></script>
<script src='_server/editor_game.js'type="module"></script>
<script src='_server/editor_file.js'type="module"></script>
<script src='_server/editor_listen.js'type="module"></script>
<script src='_server/editor_service.js'type="module"></script>
<script src='_server/editor.js'type="module"></script>
<!-- thirdparty -->
<script src='libs/thirdparty/pixi.min.js'></script>
<script src="_server/thirdparty/color.all.min.js"></script>
<script src="_server/thirdparty/awesomplete.min.js"></script>
<script src="_server/thirdparty/caret-position.js"></script>
<script src="_server/thirdparty/jsColor.js"></script>

<!-- monaco -->
<script src='_server/vs/loader.js' type="module"></script>
<!-- blockly -->
<script src="_server/blockly/blockly_compressed.js"></script>
<script src="_server/blockly/blocks_compressed.js"></script>
<script src="_server/blockly/javascript_compressed.js"></script>
<script id="blocklyLang" src="_server/blockly/zh-hans.js"></script>
</body>
</html>
